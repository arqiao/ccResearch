标题: 【AI辅助设计】Skills系列：一键搞定公众号排版！我用AI写稿+配图+发布的完整魔法 
日期: 20260121
原文: https://mp.weixin.qq.com/s/1drpuO8sd8Wr8Oaz_1bbbw

 id="js_content" style="visibility: hidden; opacity: 0; "> 一键搞定公众号排版！我用AI写稿+配图+发布的完整魔法 Sienna-banner-geek.png 哈喽姐妹们！作为一个既要写稿、又要找图、还要排版的公众号小编（或者设计师兼职博主），你是不是也经常觉得，发一篇文章的“后台工序”比写文章本身还繁琐？ 今天不聊虚的，直接上干货！继续我们的「AI超能力」系列，手把手带你跑通一个超实用的流程： 「用AI自动写一篇图文并茂的公众号文章，并且一键生成可以直接复制粘贴到微信后台的格式！」 这次我请来的“主力外援”是Google家的 「Antigravity」 ，因为它能轻松调用目前地表最强的生图模型，完美满足我们对图文内容的所有幻想。 🎯 我们的目标只有一个 打造一个“技能”（Skill），让它能： 「根据一个主题，自动生成带有多张精美配图的完整文章，并处理好所有后台杂务，最终给我一个能直接扔进公众号编辑器的成品！」 ✨ 最终效果先睹为快 生成的文章长这样~ 排版、配图都安排得明明白白，是不是还不错？ 🧠 Skills 核心思路大揭秘 整个魔法流程可以分为六步，思路非常清晰： 「智能撰稿」 ：根据你输入的主题，让AI先写出一篇结构完整、文笔流畅的文章。 「精准配图」 ：AI会智能分析文章段落，为关键部分生成风格匹配的精致图片。 「自动上传」 ：调用脚本把生成的图片上传到图床（比如腾讯云COS）。这一步超关键，省去了手动上传到微信素材库的麻烦！ 「链接替换」 ：将文章里的本地图片路径，自动替换成图床的在线链接。 「格式转换」 ：执行转换脚本，把Markdown格式变成微信编辑器认得的富文本格式。 「大功告成」 ！复制、粘贴、发布，一气呵成。 下面，就跟我一起动手搭建这个“自动化内容生产线”吧！ 📁 第一步：搭建你的工作目录 首先，在你的项目文件夹里建立这样一个清晰的目录结构： 我来解释一下每个文件夹的使命： SKILLS.md ：存放技能定义的“说明书”。 resources/html ：最终输出的HTML文件（如果需要）的归宿。 resources/images ：AI生成的漂亮图片会暂存在这里，等待上传。 resources/article.md ：这里是AI初稿的诞生地。 scripts/convert_to_wechat.py ：格式转换的“魔法核心”脚本。 scripts/upload_to_cos.py ：图片上传到云端的“搬运工”脚本。 .env ：存放你的云服务密钥等配置信息，记得保护好它哦！ ✍️ 第二步：编写你的“技能说明书” 直接用Markdown写就行，Antigravity的自动补全功能会让这个过程非常顺畅。 ❝ 小贴士：Antigravity的代码补全超智能，就像有个贴心助手在旁边。 ❞ 如果你懒得从头写，可以直接参考我的模板： --- name: 微信文章助手 version: 2.0.0 description: 帮助写一篇图文并茂的微信文章，根据用户输入的主题，先用markdown写出来文章，进行配图，上传到腾讯云COS，最后生成可直接复制到微信编辑器的markdown文章。 --- # 任务流程 ## 第一步：编写文章 1. 用户输入主题 2. 根据主题撰写文章，500字左右 3. 使用markdown格式，排版精美 ## 第二步：配图 1. 分析文章结构，找到需要配图的自然段落 2. 根据自然段落内容，调用 generate_image 工具生成配图 3. 图片生成规则： - 比例：16:9 - 风格：超真实、照片级 - 质量：1K - 数量：每篇文章不超过3张图 ## 第三步：上传图片到腾讯云 COS 1. 将生成的图片保存到本地： `/resources/images/` ，按文章顺序命名 2. 调用 `scripts/upload_to_cos.py` 上传图片到腾讯云 COS 3. 获取图片的 COS URL ## 第四步：生成微信编辑器兼容的 Markdown 1. 调用 `scripts/convert_to_wechat.py` 进行转换 2. 脚本会自动将本地图片路径替换为 COS URL 3. 生成可直接复制到微信编辑器的 markdown **输出格式要求** ： - 直接输出纯 markdown 格式 - 图片使用 `![描述](COS_URL)` 格式 - 微信编辑器可直接复制粘贴 ## 第五步：保存并复制文章 1. 转换后的文章保存为： `/resources/article_wechat.md` 2. 打开文件，全选复制内容 3. 直接粘贴到微信公众号编辑器 --- # 配置说明 ## 腾讯云 COS 配置 1. 复制 `.env.example` 为 `.env` 2. 填写你的腾讯云密钥信息： - `COS_SECRET_ID` ：从腾讯云控制台获取 - `COS_SECRET_KEY` ：从腾讯云控制台获取 - `COS_BUCKET` ：存储桶名称 - `COS_REGION` ：存储桶区域（如 ap-guangzhou） 3. 安装依赖： `pip install cos-python-sdk-v5 markdown` ## 安全提醒 - `.env` 文件包含敏感密钥，已加入 `.gitignore` - 切勿将 `.env` 文件提交到版本控制系统 --- # 文件结构 wechat-article-skill/ ├── .agent/ │ └── SKILL.md # 技能说明文档 ├── scripts/ │ ├── upload _to_ cos.py # COS 上传脚本 │ └── convert _to_ wechat.py # Markdown 转微信格式 ├── resources/ │ ├── images/ # 本地图片存储 │ ├── article.md # 原始文章 │ └── article_wechat.md # 微信格式文章 ├── .env.example # 配置模板 ├── .env # 实际配置（不提交） └── .gitignore # Git 忽略规则 --- # 注意事项 1. 确保 `.env` 文件已正确配置腾讯云密钥 2. 图片上传后使用 COS URL，确保图片可公开访问 3. 生成的 markdown 可直接复制到微信公众号编辑器 至于脚本怎么写？别担心，交给Antigravity就好啦，它可是编程小能手~ 🚀 第三步：见证魔法时刻！ 一切就绪，运行起来超级简单。直接输入你想写的文章主题： 比如，我输入： 咪蒙风格的鸡汤文：职场女性 然后，你的AI助手就开始吭哧吭哧地干活啦！整个过程全自动，你可以去泡杯咖啡，回来验收成果就行。 看，它正在努力生成文章中… 配图能力也是一流，生成的图片质量很高： 接着它会自动执行上传和格式转换，连安装依赖这种小事都会自己搞定。 中途如果看到报错也不用慌，聪明的AI会尝试自己修复。最后，打开生成好的 article_wechat.md 文件，你会看到最终成品： 全选、复制，然后粘贴到微信公众号编辑器里——搞定！如果对文章风格有更高要求，你还可以在技能定义里写得更详细，甚至提供参考文章让它学习。 💡 最后聊两句 今天分享的只是一个简单的Skill案例，但已经能让我们清晰地看到AI工作流的巨大潜力。它把我们从重复、繁琐的操作中解放出来，让我们能更专注于创意和思考本身。 对于设计师和内容创作者来说，掌握并定制这样的自动化流程，无异于给自己装备了一套“数字外骨骼”，能极大提升创作效率和体验。未来，肯定还会有更多有趣、强大的案例，我会继续和大家分享探索心得！ 设计小站-Sienna 「更多 AI 前沿技术与设计灵感，欢迎关注「设计小站」公众号（ID：sjxz00），一起探索科技与设计的融合创新。」 
