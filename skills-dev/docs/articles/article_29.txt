标题: 学会了PPTSkills，豆包Kimi都感觉不香了。但90%的人卡在第一步：Gemini NanoBananaPro API国内用不了。这篇帮你全解决（8个坑+国内可用）
日期: 20260118
原文: https://mp.weixin.qq.com/s/gEcKenbZef-amiSBYGyLtA

 id="js_content" style="visibility: hidden; opacity: 0; "> Skills火了。 火到什么程度？ 3万人收藏的Skills仓库，各种保姆级教程，全网都在聊。 可能全天下就你还没用上。 你有没有过这种感觉？ 看完那些教程，确实觉得牛逼。 收藏了一大堆。 然后呢？ 然后就没有然后了。 大部分人的真实状态是： 知道Skills牛逼，但牛逼在哪我感受不到。 我也想自己做一个，但从头学太难了。 想想就放弃了。 这就是"虚假的强大"。 你以为收藏了就等于学会了。 但你心里清楚，这不是你的能力。 我之前也是这样。 直到我发现了一个捷径—— 不是从0开始造轮子，而是基于别人已经做好的Skills进行二次开发。 这就像装修房子。 你想住一套梦想中的房子。 方案A：从打地基开始，自己盖。 方案B：买一套户型差不多的，按自己喜好改装修。 大部分人选方案A。 然后发现要学建筑、水电、装修、消防... 算了，不搞了。 聪明人选方案B。 Skills也一样。 开源社区已经有很多人做好了各种Skills。 你要做的不是从头造轮子。 而是： 找到 → 理解 → 改造 → 使用 找一个和你需求相近的，看懂它怎么工作的，改成你要的样子。 这才叫站在巨人肩膀上。 这篇文章，我用一个PPT生成的Skills做例子，手把手演示完整的改造过程。 从谷歌官方API版本，到国内也能用的第三方API版本。 中间踩的坑，全记下来了。 你可以直接抄。 先演示一下，用起来有多简单： 第一步：在Claude Code中输入Skills名称 回车。 第二步：告诉它你要做什么PPT 你可以： 指定一个文件路径（比如你写好的文档） 直接复制粘贴内容 用自然语言描述主题 我直接说： 我想生成一个 3 页的 PPT，主题是"766学徒法则：AI时代年轻人的职业突围指南"，对应的文本内容在XXX 使用矢量插画风格，2K 分辨率。 就这么简单，一句话。 第三步：Claude会问你几个问题 它会依次确认： 什么风格？（目前有2种：渐变毛玻璃、矢量插画，后续可以自己加） 生成几页？（可以自定义数字，或者说"5页左右"这种模糊描述，AI能理解） 什么分辨率？（2K或4K） 你还可以进行自定义补充 第四步：等待生成 确认后，它就开始跑了： ============================================================ PPT生成器启动 ============================================================ 风格: styles/vector-illustration.md 分辨率: 2K 页数: 3 ============================================================ 正在生成第 1 页... ✓ 第 1 页已保存: outputs/20260118_113820/images/slide-01.png 正在生成第 2 页... ✓ 第 2 页已保存: outputs/20260118_113820/images/slide-02.png 正在生成第 3 页... ✓ 第 3 页已保存: outputs/20260118_113820/images/slide-03.png ============================================================ 生成完成！ ============================================================ 📁 输出目录: outputs/20260118_113820/ 🎬 打开播放网页: outputs/20260118_113820/index.html 第五步：想要视频？继续说一句话 图片生成完后，直接说： 继续生成转场视频 Claude会自动： 1. 分析每两页之间的视觉差异 2. 生成转场提示词 3. 调用可灵AI生成视频 4. 用FFmpeg合成完整视频 ✅ PPT 视频生成成功！ 📊 生成统计： - PPT 页数：3 页 - 视频素材：3 个（1 个预览 + 2 个转场） - 总耗时：约 4.7 分钟 📁 输出文件： - 完整视频: full_ppt_video.mp4 (5.95 MB) - 首页预览: videos/preview.mp4 (4.32 MB) - 转场 1→2: videos/transition_01_to_02.mp4 (8.88 MB) - 转场 2→3: videos/transition_02_to_03.mp4 (8.26 MB) 看到没？ 全程就是对话。 输入一个命令，回答几个问题，剩下的全自动。 这不是用工具，这是在 指挥AI干活 。 这不是模板，是AI根据你的内容现场生成的。 每一页都是独一无二的。 📍 本文导航 👉 只想知道 思路 ？看「为什么二次开发是最佳路径」 👉 只想看 实操 ？看「PPT Skills改造全过程」 👉 只关心 国内怎么用 ？看「第三方API解决方案」 👉 只想要 项目文件 ？直接拉到文末，回复「AIPPT」获取完整压缩包 全文约3500字，完整阅读约10分钟。 01 你为什么"用不起来"？ 先问你几个问题： 第一，你有没有这种感觉？ 知道Skills很牛，但不知道哪个适合自己。 网上那么多开源仓库，眼花缭乱。 看完介绍觉得都很厉害，但具体能帮我干嘛？ 不知道。 第二，下载了几个试了试，发现... 要配置这个，要安装那个。 Python版本不对，依赖装不上，API调不通... 搞了半天， 算了，不折腾了。 第三，最关键的问题—— 大部分好用的Skills都用谷歌的Gemini API。 国内直接用不了。 科学上网？不稳定。生成到一半断了更崩溃。 总结一下就是： 大家都说Skills牛逼，但牛逼在哪我感受不到。 我也想自己做一个，但从头学太难了，想想就放弃了。 你发现了吗？ 问题不是Skills不好用，而是你走错了路。 你一直想从0开始造轮子，却忽略了一条更聪明的路—— 二次开发 。 02 为什么"二次开发"是小白的最佳路径 我不仅分享如何二次开发Skills，更要帮你理解 为什么这是小白的最佳路径 ——站在巨人肩膀上，而不是从头造轮子。 先讲个比喻。 你想住一套梦想中的房子。 方案A：从打地基开始，自己盖。 要学建筑、水电、装修、消防... 光想想就累了，对吧？ 方案B：买一套户型差不多的，按自己喜好改装修。 换个墙漆，改个厨房，添几件家具。 几周就能入住。 Skills也一样。 开源社区已经有很多人做好了各种Skills。 3.2万人收藏的仓库里，什么类型都有。 你要做的不是从头造轮子。 而是： 找到 → 理解 → 改造 → 使用 找一个和你需求相近的，看懂它怎么工作的，改成你要的样子。 这就是"二次开发"。 它的好处是： 核心功能别人已经写好了 你只需要改需要改的部分 遇到问题可以参考原项目 省掉80%的学习成本 这才是开源社区最大的价值——让每个人都能站在前人的积累上继续前进。 03 实战案例：PPT Skills改造全过程 说理论太虚。 接下来我用一个真实案例，手把手演示怎么做二次开发。 为什么选这个案例？ 功能实用 ：AI生成PPT是刚需，谁还没做过几个PPT？ 效果惊艳 ：支持多种风格，渐变毛玻璃、矢量插画，出来就是能用的 有典型痛点 ：原版用谷歌API，国内用不了 二次开发空间大 ：正好演示完整改造过程 我不仅提供踩坑记录，更帮你构建一套 找到→理解→改造→使用 的二次开发思维框架——以后任何开源项目都能这样改。 第一个Skills：NanoBanana PPT（谷歌官方API版） 这是什么？ 开源项目NanoBanana做的一个Skills。 用Gemini生成PPT的每一页图片，还能用可灵AI生成转场视频。 两种视觉风格（可根据自己需要扩张）： 1. 渐变毛玻璃卡片 - 科技感、商务演示 2. 矢量插画风格 - 教育培训、创意提案 下面是傻瓜式环境搭建步骤。 每一步我都写清楚了，照着做就行。 步骤1：获取项目文件 在公众号后台回复「 AIPPT 」，获取完整压缩包。 下载后解压到你想要的文件夹（比如桌面）。 怎么确认成功？ 解压后能看到一堆文件，包括 .py 结尾的Python文件、 requirements.txt 、还有 styles 文件夹。 步骤2：创建虚拟环境 打开终端，进入项目文件夹，输入命令： cd /你的项目路径/NanoBanana_image_ppt_skills python3 -m venv venv 返回结果： （无输出，表示成功） 怎么确认成功？ 项目文件夹里多了一个叫「venv」的文件夹。 步骤3：激活虚拟环境 source venv/bin/activate 返回结果： (venv) gongzifei@MacBook-Pro NanoBanana_image_ppt_skills % 怎么确认成功？ 命令行最前面出现了 (venv) 字样。 步骤4：安装依赖 pip install google-genai pillow python-dotenv -i https://pypi.org/simple 返回结果： Looking in indexes: https://pypi.org/simple Collecting google-genai Downloading google_genai-1.47.0-py3-none-any.whl ... Successfully installed google-genai-1.47.0 pillow-11.3.0 python-dotenv-1.2.1 ... 注意： 这里一定要加 -i https://pypi.org/simple ，指定官方源。否则可能装不上。 步骤5：配置.env文件 cp .env.example . env 用编辑器打开 .env 文件，填入你的配置： GEMINI_API_KEY=你的API密钥 GEMINI_BASE_URL=https://你的API地址 GEMINI_MODEL=gemini-3-pro-image-preview 怎么确认成功？ 文件保存后，里面有你填的配置信息。 步骤6：测试API连接 这一步很关键！在改代码之前，一定要先测试API是否能通。 source venv/bin/activate python3 << 'EOF' import httpx import json base_url = "https://你的API地址" api_key = "你的API密钥" url = f "{base_url}/v1beta/models/gemini-3-pro-image-preview:generateContent" headers = { "Content-Type" : "application/json" , "x-goog-api-key" : api_key } data = { "contents" : [{ "parts" : [{ "text" : "Hello, test connection" }]}] } response = httpx.post(url, headers=headers, json=data, timeout =30) print (f "状态码: {response.status_code}" ) if response.status_code == 200: print ( "✓ API连接成功！" ) else : print (f "✗ 连接失败: {response.text[:200]}" ) EOF 成功的返回结果： 状态码: 200 ✓ API连接成功！ 到这里，环境就搭好了。 但是—— 我踩了不少坑。 一开始我也是一头雾水，API调不通搞了半天。 后来一个一个排查，终于全部解决了。 这些坑我都踩过了。 比如踩坑2，我第一次配置时，base_url写成了 http://xxx.com/v1 ，结果库自己又加了一层路径，变成了 /v1/v1beta/... ，直接404。 还有踩坑5，Skill执行时用的是系统Python，不是虚拟环境里的，所以找不到装好的依赖... 💡 解决方案整理成了完整的踩坑指南。 回复「AIPPT」获取完整踩坑指南+解决方案，照着改就能跑通。 问题来了：国内用不了谷歌API 好不容易把环境配好了。 运行一下，发现： 连不上。 谷歌Gemini是外网，国内直接访问不了。 科学上网？ 不稳定。生成到一半断了，更崩溃。 有没有更稳定的方案？ 有。 这就是我要讲的第二个Skills——基于第一个二次开发的版本。 第二个Skills：国内可用版（第三方API） 这个版本是我基于第一个Skills二次开发得来的。 核心改动就一个： 把谷歌官方API换成第三方转接API。 好处是： 不需要科学上网 国内直连，稳定 接口兼容，代码改动很小 我不仅解决国内API问题，更助你搭建一个 可持续迭代的AI工作流 ——今天是PPT，明天可能是你自己的专属Skills。 傻瓜式二次开发步骤： 步骤1：复制原项目 cp -r NanoBanana_image_ppt_skills NanoBanana_image_ppt_skills_国内版 为什么要复制？ 保留原版，方便对比和回滚。万一改坏了还能参考。 步骤2：获取第三方API 你需要一个支持Gemini的第三方转接服务。 我使用的这家，亲测稳定可用： 👉 https://once-cf.novai.su/register?aff=5WJc 新用户有免费额度可以体验，够你跑通整个流程了。 注册后在后台可以看到： API密钥（类似 sk-xxxx 的字符串） API地址（类似 https://xxx.xxx.com ） 步骤3：修改.env配置 打开新项目的 .env 文件，把原来的配置改成第三方的： GEMINI_API_KEY=你的第三方API密钥 GEMINI_BASE_URL=https://你的第三方API地址 GEMINI_MODEL=gemini-3-pro-image-preview 重点注意： GEMINI_BASE_URL 只填域名， 不要带 /v1 ！ 比如填 https://xxx.com ，不要填 https://xxx.com/v1 这是我踩过的最大的坑 步骤4：选择调用方式（如果官方库不兼容） 有些第三方API和google-genai官方库有兼容性问题。 这时候有两种方案： 建议： 先试官方库方式。如果报错调不通，再换HTTP请求方式。 压缩包里两种方式的代码都有，直接用就行。 步骤5：测试运行 ./venv/bin/python generate_ppt.py -- help 成功的返回结果： ✅ 已加载环境变量: /你的路径/.env usage: generate_ppt.py [-h] --plan PLAN --style STYLE [--resolution {2K,4K}] [--output OUTPUT] [--template TEMPLATE] PPT生成器 - 使用Nano Banana Pro生成PPT图片 步骤6：生成PPT测试 用自然语言描述需求： 生成一个 3 页的 PPT，主题是"766学徒法则"，使用矢量插画风格，2K 分辨率。 成功的返回结果： ============================================================ PPT生成器启动 ============================================================ 风格: styles/vector-illustration.md 分辨率: 2K 页数: 3 ============================================================ 正在生成第 1 页... ✓ 第 1 页已保存: outputs/20260118_113820/images/slide-01.jpg 正在生成第 2 页... ✓ 第 2 页已保存: outputs/20260118_113820/images/slide-02.jpg 正在生成第 3 页... ✓ 第 3 页已保存: outputs/20260118_113820/images/slide-03.jpg ============================================================ 生成完成！ ============================================================ 输出目录: outputs/20260118_113820/ 播放网页: outputs/20260118_113820/index.html 看到这个输出，恭喜你，成功了！ 我在二次开发时踩过的坑： 这些二次开发的坑更隐蔽。 比如踩坑6，官方库内部做了很多封装，报错信息很模糊，根本不知道哪里出问题。后来我改成HTTP请求方式，能直接看到请求和响应的原始数据，问题一下就定位到了。 我花了不少时间才搞定。 💡 回复「AIPPT」获取完整踩坑指南，包括官方库和HTTP请求两种方式的解决方案。 8个坑，每个坑的详细解决方案都写清楚了。照着改，保证能跑通。 04 下一步：不会编程怎么办？ 看到这里，你可能会说： "阿飞你写得很清楚，但这些代码修改我还是看不懂怎么办？" "我不会编程，这条路是不是走不通？" 别急。 这正是我下一篇文章要讲的—— 《Claude Code小白编程指南》 用一句话概括就是： Vibe Coding 。 完全不需要你写代码。 你只需要用自然语言描述需求，Claude帮你改。 "把这里的谷歌API换成这个第三方的" "报错了，帮我看看什么问题" "改好了帮我测试一下" 就这么简单。 这不是在用工具，这是在 带着一支施工队装修房子 。 你只需要当那个发号施令的人。 想第一时间看到这篇教程，记得关注「AI元机所」。 05 写在最后 工具越简单，我们就越要警惕。 豆包、Kimi这些工具好用吗？好用。 但你有没有发现？ 用它们生成的东西，你自己根本复制不出来。 这种感觉，叫"虚假的强大"。 你以为自己很厉害，但其实你只是许愿池边的许愿者。 今天许到了，明天不一定。 Skills的价值，不在于它本身有多牛。 而在于它让"站在巨人肩膀上"变得更容易了。 以前想用AI做点什么，得从头学。 现在有了开源Skills，找一个差不多的，改改就能用。 这才是开源社区最大的价值——让每个人都能站在前人的积累上继续前进。 别让自己变成被AI喂养的"工具人"。 去当那个运筹帷幄、排兵布阵的将军吧。 Skills的世界很大，不需要一步到位。 从改几行配置开始，你会发现没那么难。 今天是PPT，明天可能是你自己的专属工具。 📦 这份资源包，凭什么值得你要？ 不是让你拿去直接用的。 是让你拿去"改"的。 你想想看—— 整套代码框架已经搭好了，API调用、图片生成、文件输出，全部都能跑通。 你需要做的，只是在这个基础上 加你自己要的功能 。 举个例子： 你是老师，每周要做课件。 现在的Skills能生成PPT了，但你想加一个功能—— 自动在每页底部加上学校Logo 。 从0开始写？ 你得学Python、学图像处理、学API调用... 光想想就头大。 但现在不一样。 框架已经有了，图片生成的代码已经写好了。 你只需要告诉Claude： "帮我在生成图片后，右下角加上这个Logo" 几行代码的事。 再比如： 你是自媒体人，想生成 竖版封面图 而不是横版PPT。 原来的代码是16:9的，你想改成9:16。 从头写？ 还是 改一个参数 ？ 哪个更快，哪个更靠谱，你心里有数。 这就是二次开发的核心价值—— 不是给你一个现成的工具，而是给你一个可以无限扩展的"底座"。 今天是PPT，明天可能是海报、封面、课件、产品图... 想象力有多大，这个底座就能撑多远。 🎁 资源包里有什么： ✅ NanoBanana PPT Skills 官方版 - 完整源码，解压即用 ✅ 国内可用版（我二次开发的） - 第三方API版本，国内直连 ✅ 8个踩坑的完整解决方案 - 文章里只列了问题，答案全在这里 ✅ 配置文件模板 - 改几个参数就能跑 ✅ 两种调用方式的代码对比 - 官方库 vs HTTP请求，选适合你的 🔥 获取方式： 在公众号后台回复「 AIPPT 」 现在就拿到手，马上就能跑通。 别让"改天再说"变成"永远不做"。 我是阿飞，我们在「元机所」等你。 在这里，我们： 不仅分享AI应用，更探究底层逻辑； 不仅提供Prompt模板，更构建可进化的提问框架； 不仅拆解AI Agent玩法，更搭建能解决问题的自动化工作流。 让我们一起，将AI内化为你的思维模式与核心能力。 关注我，获取更多AI实战技巧 如果觉得有用，点个「赞👍」+「在看」，让更多人看到。 有问题可以在评论区留言，我会一一回复。 
