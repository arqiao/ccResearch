# OpenClaw工作原理与应用生态，附资源
# URL: https://mp.weixin.qq.com/s/Zx6C7LovkRo2AZS0xkXpxQ
# 日期: 2026-02-05
# 来源: 微信-王吉伟
# 分类: 应用实战 / 
# 字数: 8754

全文约5200字，阅读时间6分钟
从Clawbot到Moltbot再到OpenClaw，这个爆火的项目经过3次改名，截至2月4日已经在github累积获得了160K star。
OpenClaw是一款开源自托管的个人 AI 代理网关，本质是运行在用户自有设备上的自主式智能体助手，主打 “本地优先、隐私可控” 的设计理念，通过自然语言指令实现 PC 全功能自动化，真正做到 替用户做事 而非 仅回答问题。
该项目由Peter Steinberger（PSPDFKit 创始人）创建，目前已有378位贡献者，并催生了一个由 8,900+ 开发者组成的社区，致力于构建个人 AI 基础设施。
与云端聊天机器人不同，
OpenClaw
持续运行在用户自有硬件（比如Mac Mini以及各种PC设备）上，执行 shell 命令、管理文件，并协调多步骤工作流程，无需人工审核。
用户可以在PC或者手机上的WhatsApp、Telegram、Slack、Discord、Google Chat、Signal、iMessage、Microsoft Teams、WebChat等通讯软件上通过文字或者语音发布任务，它就可以在PC另一台设备上完成工作并把结果发送到用户的通讯软件上。
这个架构将智能（从Anthropic、OpenAI或本地模型借用）与Agent（本地拥有和控制）进行了分离，使得技术社区所谓的“主权个人AI”成为可能。
目前关于OpenClaw的安装配置教程已经有很多，详细阐述其技术框架和工作原理的文章很少见。本文将通过分析
OpenClaw
的技术框架、
工作原理及当前已经形成的应用生态，让大家更深入的了解这个平台。
【
PS：赠书福利见文末
】
OpenClaw工作原理
Hesam@Hesamation
原文来自Hesam (@Hesamation) 发布于 X 的文章，链接见文末。
我研究了OpenClaw的架构，以及它处理智能体执行、工具调用、浏览器操作等功能的实现逻辑，其中诸多设计思路对AI工程师极具借鉴价值。深入了解Clawd的底层运行机制，能让我们更清晰地认识这套系统的功能边界，更重要的是，明确它的优势与短板。我最初的研究初衷，只是出于个人好奇，想探究Clawd的记忆机制设计及其运行可靠性。
在本文中，我将为大家浅述Clawd的核心运行原理。
Clawd的技术本质
大家都知道，
OpenClaw
是一款个人智能助手，可本地部署或通过大模型API调用，甚至在手机上就能轻松操作，但它的技术本质究竟是什么？
OpenClaw
的核心是一个基于TypeScript开发的命令行应用（CLI），既非Python开发、也非基于Next.js的网页应用。作为一个独立运行进程，它的核心功能包括：
在本地设备运行并启动网关服务器，处理全渠道连接（电报、WhatsApp、斯拉克等）；
调用大语言模型API（Anthropic、OpenAI、本地模型等）；
本地执行各类工具指令；
实现用户对电脑的各类操作需求。
技术框架
为了更通俗地解释其架构，我们以“向Clawd发送消息到获取反馈”的完整流程为例说明。
（流程链路：用户消息 → 通道适配器 → 网关服务器 → 会话路由器 → 智能体运行器 → 模型解析器 → 系统提示词构建器 → 历史加载器 → 会话 → 任务通道队列 → 上下文窗口防护机制 → 大语言模型API → 智能体循环 → 反馈通路 → 通道适配器 → 最终文本）
在即时通讯工具中向Clawd发送指令后，会依次触发以下环节：
1.通道适配器
通道适配器接收用户消息并进行预处理，包括消息标准化、提取附件等。不同的即时通讯工具和输入流，都配有专属的适配器。
2.网关服务器
作为任务与会话的协调中枢，网关服务器接收用户消息并将其分发至对应会话，是Clawd的核心模块，可处理多个并行的请求。为实现操作序列化，Clawd采用了基于任务通道的命令队列：每个会话对应专属的任务通道，低风险、可并行的任务（如定时任务）则可在多个通道中并行执行。
这与编写混乱的异步/等待（async/await）嵌套代码形成了鲜明对比——过度并行化会降低系统可靠性，还会引发大量难以调试的问题。
Clawd的设计原则为：
默认串行执行，显式声明并行。
从事智能体开发的开发者想必对此深有体会，这也是Cognition公司在博文中传递的核心观点。为单个智能体搭建简单的异步架构，最终只会产生杂乱无章的交错代码，日志无法阅读；若多个智能体共享状态，开发过程中还需时刻警惕竞态条件问题。
而任务通道是对队列的一层抽象，将序列化作为默认架构设计，而非后续的补充优化。开发者只需编写业务代码，队列会自动处理竞态条件问题，开发思路也将从“需要为哪些内容加锁”转变为“哪些操作可以安全地并行执行”。
3.智能体运行器
这是真正承载AI能力的模块。该模块会确定待调用的模型、匹配对应的API密钥（若密钥失效，会将该配置标记为冷却状态并尝试下一个），若主模型调用失败，会自动切换至备用模型。
智能体运行器会结合可用工具、技能、记忆内容动态生成系统提示词，再加入会话历史（存储于.jsonl文件），随后将完整提示词传入上下文窗口防护机制，校验是否有足够的上下文空间。若上下文空间即将耗尽，系统会选择压缩会话内容（对上下文进行总结）或优雅降级终止执行。
4.大语言模型API调用
大模型调用环节会以流式方式返回结果，同时对不同服务商的API做了一层抽象封装；若所调用的模型支持深度思考功能，该模块还会触发模型的扩展思考逻辑。
5.智能体循环
若大模型返回工具调用指令，Clawd会在本地执行该指令，并将执行结果补充至对话中。这一过程会反复执行，直至大模型返回最终文本结果，或达到最大循环次数（默认约20次）。
正是在这一环节，Clawd实现了其核心能力——电脑操作功能。
6.反馈通路
这一环节的逻辑较为常规：执行结果会通过原消息通道反馈给用户，同时会话数据会以基础的jsonl格式持久化存储，文件中每行都是一个json对象，记录了用户消息、工具调用指令、执行结果、模型反馈等内容，这也是Clawd的记忆实现方式——基于会话的记忆机制。
以上就是Clawd的基础架构，接下来我们聊聊其中几个关键的核心模块。
Clawd的记忆机制
没有完善的记忆系统，AI助手的能力便会大打折扣。Clawd通过两套系统实现记忆功能：
1、前文提到的、以jsonl格式存储的会话记录；
2、存储为Markdown格式的记忆文件，文件位于MEMORY.md或memory/文件夹中。
在检索环节，Clawd采用了
向量检索与关键词匹配相结合的混合检索方式
，兼具两种方式的优势。例如检索“认证漏洞（authentication bug）”时，系统既能找到提及“认证问题（auth issues）”的文档（语义匹配），也能精准定位包含该精确短语的内容（关键词匹配）。
其中，向量检索基于SQLite实现，关键词检索则借助SQLite的扩展模块FTS5完成，嵌入向量生成服务商支持自定义配置
该系统还搭载了智能同步功能，当文件监视器检测到文件变化时，会自动触发同步。这些Markdown记忆文件由智能体通过常规的“写入”文件工具生成，无专属的记忆写入API，智能体只需向memory/*.md路径写入内容即可。
当新的对话开始时，系统会提取上一轮的对话内容，并将其总结为Markdown格式的文件。
Clawd的记忆系统设计出乎意料地简洁，与我们在[项目名称]中实现的工作流记忆机制高度相似：无需合并记忆文件，也无需按每月/每周的周期压缩记忆内容。这种简洁性是优势还是缺陷，因人而异，但我始终推崇可解释的简洁设计，而非混乱复杂的架构。
Clawd的记忆会永久保存，且新老记忆的权重基本一致，不存在记忆衰减曲线。
Clawd的核心能力：电脑操作实现
这是Clawd的核心壁垒之一：可接管本地电脑并实现各类操作。其实现逻辑与大家的直观认知基本一致。
Clawd会向智能体开放较高权限的电脑操作能力，相关风险由用户自行承担。它通过执行工具（exec tool）在设备上运行Shell命令，支持三种运行环境：
沙箱环境（默认）：命令在Docker容器中运行；
本地宿主机；
远程设备。
除此之外，Clawd还配备了各类工具：
文件系统工具（支持读取、写入、编辑）；
基于Playwright实现的浏览器工具，可生成语义快照；
进程管理工具，用于执行后台长期运行的命令、终止进程等。
安全机制（或近乎缺失？）
与Claude Code类似，Clawd为用户设置了命令白名单，用户可对各类命令进行权限审批，支持三种操作：单次允许、始终允许、拒绝，并会向用户弹出审批提示。
代码块示例：命令审批配置文件
// ~/
.clawdbot
/exec-approvals
.json
{
"agents": {
"
main
": {
"allowlist": [
{"
pattern
":
"/usr/bin/npm"
,
"lastUsedAt"
:
1706644800
},
{"
pattern
":
"/opt/homebrew/bin/git"
,
"lastUsedAt"
:
1706644900
}
]
}
}
}
部分安全命令（如jq、grep、cut、sort、uniq、head、tail、tr、wc）已默认预批准。默认情况下，危险的Shell语法结构会被拦截。
代码块示例：被拦截的危险命令
# 以下命令在执行前会被拒绝：
npm install $(
cat
/etc/passwd)
# 命令替换
cat
file > /etc/hosts
# 重定向
rm
-rf / ||
echo
"failed"
# 逻辑或链接
(
sudo
rm
#子shell
Clawd的安全机制与Claude Code的设计思路高度相似，核心是在用户允许的范围内，给予智能体最大的自主操作权限。
浏览器工具：语义快照而非截图
Clawd的浏览器工具并非主要依赖截图，而是采用语义快照——一种基于页面无障碍树（ARIA）的文本化表示形式。
代码块示例：语义快照格式
- 按钮
"登录"
[引用
ID
=
1
]
- 文本框
"邮箱"
[引用
ID
=
2
]
- 文本框
"密码"
[引用
ID
=
3
]
- 链接
"忘记密码？"
[引用
ID
=
4
]
- 标题
"欢迎回来"
- 列表
- 列表项
"控制台"
- 列表项
"设置"
动态系统提示词
与大多数框架不同，Clawd的系统提示词并非固定不变，而是结合技能、记忆检索结果、用户身份、时区等信息动态构建。其基础系统提示词如下：
你是一名运行在Moltbot中的个人助手。
#
# 工具集
可用工具（按策略筛选）：工具名称区分大小写，需严格按列出的名称调用。
- read：读取文件内容
- exec：运行Shell命令
- browser：控制网页浏览器
[...仅显示该智能体可访问的工具]
#
# 工具调用风格
默认规则：常规、低风险的工具调用无需说明（直接调用即可）；仅在以下场景需补充说明：多步骤操作、复杂问题、敏感操作。
#
# Moltbot命令行快速参考
[网关命令参考内容]
#
# 工作目录
你的工作目录为：/path/to/workspace
将该目录视为唯一的全局工作空间...
#
# 运行时信息
运行环境：智能体=主智能体 | 主机=MacBook | 操作系统=Darwin（arm64架构） | 模型=claude-sonnet-420250514 | 通道=电报 | 思考模式=关闭
推理过程：关闭（仅在开启/流式模式下显示）
子智能体/智能体生成
智能体可以生成子智能体（但子智能体无法再生成下一级智能体）。子智能体拥有独立会话，父子智能体通过session_send实现通信，子智能体的执行结果会反馈给父智能体，父智能体可通过轮询子智能体会话查看执行进度。
上下文压缩
当接近上下文长度限制时，智能体会将关键信息保存至记忆中。会话历史会被拆分为多个片段，由大语言模型对片段进行总结，最终合并为连贯的摘要，替换原始消息内容。
总结
OpenClaw
的走红并非偶然——它兼具易用性与实用性。但从技术角度来看，它并非“革命性”突破。这款工具的热度并非源于惊人的创新技术，但这绝不意味着要贬低它的价值。Clawd中蕴含着许多值得学习的设计思路，我发现其中不少方法与[相关技术/框架]高度相似。
Openclaw生态
openclaw火爆以后，其生态快速迎来了大爆发。AI agents 正在形成完整的数字社会，覆盖社交、恋爱、工作、游戏等等一应俱全。下面是Base中文台整理的目前的OpenClaw 生态的主要项目。按照当前的进展速度，预测这个生态图将在1个月后迎来更多的项目与产品。
这张图呈现了OpenClaw在Base区块链上的智能体生态系统布局，核心是围绕OpenClaw的本地优先AI智能体能力，延伸出覆盖多生活/工作场景的第三方应用与平台，整体按场景分类呈现，直观展现了OpenClaw生态的多样性与落地范围。
图片按应用场景分为10大板块，每个板块对应聚焦特定需求的生态项目，本质是OpenClaw智能体能力在不同场景的延伸落地：
基础设施：生态底层支撑类项目，如Bankr、XMTP、Clanker、Neynar等，为其他场景应用提供技术接口、数据传输、身份验证等基础服务，是生态运转的核心支撑；
恋爱交友：聚焦社交匹配需求，暂无具体项目列出，推测是预留的情感社交类智能体应用场景；
消息：通讯类相关应用，如moltline.com、claw.direct等，大概率是基于OpenClaw跨通道通讯能力开发的即时通讯工具或消息路由服务；
发现：资源探索类平台，如clawdr.co、shelimates.app等，可能是用于发现AI智能体技能、生态应用或兴趣内容的聚合平台；
论坛：社区交流类项目，如lobchan.ai、moltoverflo.com等，面向OpenClaw开发者和用户的讨论社区，用于分享应用经验、反馈问题；
工作与市场：职场与交易相关应用，如openwork.bot、clawnet.org等，可能是基于AI智能体的协同办公工具、自由职业者对接平台或技能交易市场；
预测市场：聚焦趋势预测类需求，暂无具体项目，推测是结合OpenClaw数据分析能力的事件预测、市场趋势判断类应用；
社交媒体：社交内容类平台，如moltbook.bot、instaclaw.xyz等，类似AI驱动的社交网络，支持智能体辅助内容创作、社交互动；
代币经济：加密货币相关应用，如moltx.io、clawk.ai等，可能是基于Base链的代币管理、DeFi交互类智能体工具；
游戏虚拟世界：娱乐场景应用，如molt.chess、shell-town.com/viewer等，结合AI智能体的游戏辅助、虚拟世界互动类工具。
附：OpenClaw相关资源
OpenClaw官网：https://openclaw.ai/
OpenClaw Github仓库：https://github.com/openclaw/openclaw
OpenClaw技能合集：https://github.com/VoltAgent/awesome-openclaw-skills
OpenClaw一键部署工具：https://github.com/miaoxworld/OpenClawInstaller
OpenClaw汉化版：https://github.com/1186258278/OpenClawChineseTranslation
OpenClaw钉钉插件：https://github.com/DingTalk-Real-AI/dingtalk-moltbot-connector
OpenClaw飞书独立桥接器：https://github.com/AlexAnys/feishu-openclaw
部署教程与资源
阿里云：快速部署OpenClaw
https://www.aliyun.com/benefit/scene/moltbot?spm=5176.29832386.J_4VYgf18xNlTAyFFbOuOQe.17.5c71396cBFL6yi&scm=20140722.M_10948942.P_120.MO_1774-ID_10948942-MID_10948942-CID_36705-ST_15536-V_1
腾讯云：在云端秒级部署OpenClaw全能助手
https://cloud.tencent.com/act/pro/lighthouse-moltbot
华为云：使用OpenClaw（Moltbot）搭建个人AI助手（飞书）
https://support.huaweicloud.com/bestpractice-flexusl/flexusl_bp_0001.html
火山引擎：一键部署OpenClaw
https://www.volcengine.com/activity/clawdbot
百度云：极简部署OpenClaw打造专属AI助手
https://cloud.baidu.com/product/BCC/moltbot.html
移动云：本地/云主机部署OpenClaw并接入移动云模型
https://ecloud.10086.cn/op-help-center/doc/article/98120
天翼云：天翼云×OpenClaw行动AI新生态
https://www.ctyun.cn/act/OpenClaw
京东云：即刻部署24小时在线的Moltbot
https://www.jdcloud.com/cn/pages/moltbot
青云：Clawdbot一键部署零门槛掌控AI超级助手
https://console.qingcloud.com/apps/app-3bou002j
亚马逊AWS：基于亚马逊云科技Mac实例部署OpenClaw，深度苹果生态自动化的最佳选择
https://aws.amazon.com/cn/blogs/china/openclaw-deployment-aws-mac/
Ollama官方OpenClaw本地部署教程
https://docs.ollama.com/integrations/openclaw
参考资料：
everyone talks about Clawdbot, but here's how it works：https://x.com/Hesamation/status/2017038553058
全文完
王吉伟频道新书《一本书读懂AI Agent：技术、应用与商业》已出版，轻松读懂系统掌握AI Agent技术原理、行业应用、商业价值及创业机会，欢迎大家关注。
【
赠书福利
】
感谢大家长期关注与支持，小伙伴们随意留言，王吉伟频道会随机选取留言用户，《一本书读懂AI Agent：技术、应用与商业》包邮到家。
【
文末福利1
】：后台发消息
研报2026
，获取15篇
2026年
AI Agent研报
。
【文末福利2】：后台发消息
Workflow
，获取Agentic Workflow相关25篇论文。
【文末福利3】：后台发消息
agentic
，获取
Agentic AI
相关资源。
【文末福利4】：后台发消息
RPA Agent
，获取相关论文和研报。
RECOMMEND
推荐阅读
1、
一本书读懂AI Agent技术、应用与商业，我写的新书出版了
2、
【万字长文】数字员工、具身智能，AI Agent未来发展十大研究方向
3、
15篇AI Agent研报，看懂2026年Agentic Al行业全景，附下载
4、
AI Agent发展简史，从哲学思想启蒙到人工智能实体落地
5、
企业AI Agent战略级规模化落地方法论，Agentic AI Stack for Enterprises
6、
五层结构AI Enablement Stack，把真正可用的AI Agent技术栈生态讲透了
7、
智能体主题分享：DeepSeek、Manus与AI Agent行业现状，附51页PPT下载
8、
十篇AI Agent研报，看懂2025年全球智能体行业全景，附下载
8、
API难以解决AI智能体执行能力问题，AI Agent深度落地锁定RPA
10、
RPA终极发展方向瞄准AI Agent，超自动化智能体时代已经开启
期待点赞、在看、评论、转发，您的支持就是我的动力。
鼓励积极评论，您的留言可以成为选题。
欢迎阅读其他文章，或会激发您的更多思考。
点击左下角“阅读原文”查看AIGC研究系列文章，扫码或者后台回复【加群】申请加入AIGC行业应用交流社群。
如果你是正在关注AI Agent的创业者、投资人及企业，欢迎带着产品、项目及需求与王吉伟频道交流。
【王吉伟频道，关注AIGC与IoT，专注数字化转型、业务流程自动化与AI Agent。公号ID：jiwei1122，欢迎关注与交流。】