# OpenClaw 背后的秘密武器：极简智能体框架 Pi
# URL: https://mp.weixin.qq.com/s/a0SOGBY7c8uG6JSYd_qjrg
# 日期: 2026-02-10
# 来源: 微信-ThinkInAI社区
# 分类: 产品认知 / 
# 字数: 4104

⬆️
关注 ThinkInAI 星科社区，最及时最干货的AI内容分享
如果你没有与世隔绝，你会注意到本周我朋友 Peter 的一个项目在互联网上火爆了。它有很多名字。最近的一个是 OpenClaw，但在新闻中你可能会遇到 ClawdBot 或 MoltBot 这些名字，取决于你什么时候读到它。它是一个连接到你选择的通信渠道的智能体，可以运行代码。
你可能不太熟悉的是，OpenClaw 底层实际上是一个名为 Pi 的小型编码智能体。而 Pi 恰好是我目前几乎专门使用的编码智能体。在过去几周里，我越来越成为这个小智能体的推广者。最近我就此做了一次演讲后，我意识到我实际上还没有在博客上写过关于 Pi 的内容，所以我想提供一些背景信息，说明为什么我对它如此着迷，以及它与 OpenClaw 的关系。
Pi 由 Mario Zechner 编写。与 Peter 追求"带有一丝疯狂的科幻"1不同，Mario 非常务实。尽管方法不同，OpenClaw 和 Pi 都遵循同样的理念：LLM 非常擅长编写和运行代码，所以要拥抱这一点。在某种程度上，我认为这不是偶然的，因为是 Peter 让我和 Mario 在去年迷上了这个想法和智能体。
Pi 是什么？
Pi 是一个编码智能体。市面上有很多编码智能体。实际上，我认为你现在可以随便选一个，就能体验到智能体编程的感觉。在这个博客的评论中，我积极评价过 AMP，我与 AMP 产生共鸣的原因之一是，它真的感觉像是由那些既沉迷于智能体编程，又尝试过不同方法来看哪些有效的人构建的产品，而不仅仅是在它周围构建一个花哨的 UI。
Pi 对我来说很有趣，主要有两个原因：
首先，它有一个极小的核心。它拥有我所知的所有智能体中最短的系统提示，而且只有四个工具：读取、写入、编辑、Bash。
其次，它通过提供一个扩展系统来弥补其小核心的不足，该系统还允许扩展将状态持久化到会话中，这非常强大。
还有一个小小的额外优点：Pi 本身就像优秀的软件一样编写。它不会闪烁，不会占用大量内存，不会随机崩溃，非常可靠，而且是由非常关心软件内容的人编写的。
Pi 也是一系列小组件的集合，你可以在其上构建自己的智能体。OpenClaw 就是这样构建的，我也是这样构建自己的小型 Telegram 机器人的，Mario 也是这样构建他的 mom。如果你想构建自己的智能体并连接到某个东西，Pi 在指向自己和 mom 时，会为你创造一个。
Pi 中没有什么
为了理解 Pi 中有什么，更重要的是理解 Pi 中没有什么，为什么没有，更重要的是：为什么不会有。最明显的遗漏是对 MCP 的支持。它没有 MCP 支持。虽然你可以为它构建一个扩展，但你也可以像 OpenClaw 那样使用 mcporter 来支持 MCP。mcporter 通过 CLI 接口或 TypeScript 绑定暴露 MCP 调用，也许你的智能体可以用它做些什么。或者不能，我不知道 :)
这不是一个懒惰的遗漏。这源于 Pi 的工作哲学。Pi 的整个理念是，如果你想让智能体做一些它还没有做的事情，你不需要去下载扩展或技能之类的东西。你要求智能体扩展自己。它推崇代码编写和运行代码的理念。
这并不是说你不能下载扩展。这是完全支持的。但与其鼓励你下载别人的扩展，你也可以将你的智能体指向一个现有的扩展，比如，按照你在那边看到的东西构建它，但对它进行你喜欢的更改。
为构建智能体的智能体而构建的智能体
当你看 Pi 以及 OpenClaw 正在做的事情时，有一个软件像粘土一样可塑的例子。这为其底层架构设定了某些要求，在许多方面对系统设置了某些约束，这些约束确实需要进入核心设计。
例如，Pi 的底层 AI SDK 被编写成使得一个会话可以真正包含来自许多不同模型提供商的许多不同消息。它认识到会话在模型提供商之间的可移植性有些有限，因此不会过分依赖任何无法转移到另一个提供商的特定模型提供商功能集。
其次，除了模型消息之外，它还在会话文件中维护自定义消息，扩展可以使用这些消息来存储状态，或者系统本身可以用来维护根本不发送给 AI 或只发送其中一部分的信息。
因为这个系统存在，扩展状态也可以持久化到磁盘，所以它内置了热重载功能，使得智能体可以编写代码、重载、测试，并循环直到你的扩展真正可用。它还附带了智能体本身可以用来扩展自己的文档和示例。更好的是：Pi 中的会话是树形结构。你可以在会话中分支和导航，这开启了各种有趣的机会，比如启用工作流来进行旁支任务以修复损坏的智能体工具，而不会浪费主会话中的上下文。工具修复后，我可以将会话倒回到更早的时间，Pi 会总结其他分支上发生的事情。
这一切都很重要，因为例如如果你考虑 MCP 的工作方式，在大多数模型提供商上，MCP 的工具，就像 LLM 的任何工具一样，需要在会话开始时加载到系统上下文或其中的工具部分。这使得在不破坏完整缓存或让 AI 对先前调用的工作方式感到困惑的情况下，完全重新加载工具的功能变得非常困难或不可能。
上下文之外的工具
Pi 中的扩展可以注册一个工具供 LLM 调用，我偶尔会发现这很有用。例如，尽管我批评 Beads 的实现方式，但我确实认为给智能体访问待办事项列表是非常有用的。我确实使用了一个智能体专用的本地问题跟踪器，这是我让智能体自己构建的。因为我想让智能体也管理待办事项，在这个特定情况下，我决定给它一个工具而不是 CLI。这对问题的范围来说感觉很合适，目前这是我加载到上下文中的唯一附加工具。
但在大多数情况下，我添加到智能体中的所有内容要么是技能，要么是 TUI 扩展，使得与智能体一起工作对我来说更愉快。除了斜杠命令外，Pi 扩展还可以直接在终端中渲染自定义 TUI 组件：旋转器、进度条、交互式文件选择器、数据表、预览窗格。TUI 足够灵活，Mario 证明了你可以在其中运行 Doom。虽然不实用，但如果你能运行 Doom，你当然可以构建一个有用的仪表板或调试界面。
我想重点介绍我的一些扩展，让你了解什么是可能的。虽然你可以不加修改地使用它们，但整个理念实际上是你将智能体指向一个扩展，然后随心所欲地重新混合它。
/
answer
我不使用计划模式。我鼓励智能体提问，并进行富有成效的来回交流。但我不喜欢给智能体一个问题工具时发生的结构化问题对话框。我更喜欢智能体的自然散文，其中穿插着解释和图表。
问题是：内联回答问题会变得混乱。所以
/
answer
读取智能体的最后一个响应，提取所有问题，并将它们重新格式化为一个漂亮的输入框。
/
todos
尽管我批评 Beads 的实现，但给智能体一个待办事项列表确实很有用。
/
todos
命令会显示存储在
.
pi
/
todos
中的所有项目（作为 markdown 文件）。智能体和我都可以操作它们，会话可以认领任务以将其标记为进行中。
/
review
随着越来越多的代码由智能体编写，在智能体审查之前将未完成的工作交给人类几乎没有意义。因为 Pi 会话是树形结构，我可以分支到一个新的审查上下文，获得发现，然后将修复带回主会话。
UI 模仿了 Codex，它提供了易于审查的提交、差异、未提交的更改或远程 PR。提示关注我关心的事情，所以我得到了我想要的提醒（例如：我要求它指出新添加的依赖项）。
/
control
一个我正在实验但不积极使用的扩展。它允许一个 Pi 智能体向另一个智能体发送提示。这是一个简单的多智能体系统，没有复杂的编排，对实验很有用。
/
files
列出会话中更改或引用的所有文件。你可以在 Finder 中显示它们，在 VS Code 中进行差异比较，快速查看它们，或在提示中引用它们。
shift
+
ctrl
+
r
快速查看最近提到的文件，这在智能体生成 PDF 时很方便。
其他人也构建了扩展：Nico 的子智能体扩展和 interactive-shell，它允许 Pi 在可观察的 TUI 覆盖层中自主运行交互式 CLI。
软件构建软件
这些都只是你可以用智能体做什么的想法。重点主要是这些都不是我写的，而是智能体根据我的规格创建的。我告诉 Pi 制作一个扩展，它就做了。没有 MCP，没有社区技能，什么都没有。别误会，我使用了大量的技能。但它们是由我的 clanker 手工制作的，而不是从任何地方下载的。例如，我完全用一个只使用 CDP 的技能替换了我所有的浏览器自动化 CLI 或 MCP。不是因为替代方案不起作用或很糟糕，而是因为这很简单和自然。智能体维护自己的功能。
我的智能体有相当多的技能，关键是如果我不需要它们，我会丢弃技能。例如，我给了它一个技能来阅读其他工程师分享的 Pi 会话，这有助于代码审查。或者我有一个技能来帮助智能体制作我想要的提交消息和提交行为，以及如何更新变更日志。这些最初是斜杠命令，但我目前正在将它们迁移到技能，看看这是否同样有效。我还有一个技能，希望能帮助 Pi 使用
uv
而不是
pip
，但我还添加了一个自定义扩展来拦截对
pip
和
python
的调用，并将它们重定向到
uv
。
使用像 Pi 这样的最小化智能体给我的部分魅力在于，它让你体验使用构建更多软件的软件的理念。极端情况下，当你移除 UI 和输出并将其连接到你的聊天时。这就是 OpenClaw 所做的，鉴于其巨大的增长，我真的越来越感觉到这将以某种方式成为我们的未来。
https://x.com/steipete/status/2017313990548865292↩
原文地址：
https://lucumr.pocoo.org/2026/1/31/pi/
加入ThinkInAI社区
如果你也对AI充满兴趣，欢迎加入我们的ThinkInAI社区，在这里，你可以：
获取最新AI工具资讯
参与实战经验分享
结识志同道合的伙伴
共同探讨AI应用方向
扫描文末二维码，加入ThinkInAI社区，一起拥抱AI新时代！